/* empty css                  */import{E as L,a as N,b as U,c as C}from"./el-col.8995c41e.js";import"./el-tooltip.57d5fb8e.js";import"./el-icon.ececf587.js";import{E as D}from"./el-divider.647a5ce0.js";import{P as V}from"./index.ed666537.js";import{Y as F,r as _,Z as R,o as p,g as h,M as l,C as a,t as g,w as i,cb as A,aD as x,am as H,bS as O,V as v,f as T,a0 as Y,a1 as Z}from"./index.9cb8c9b9.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./index.74c74cb5.js";import"./index.4e6c0115.js";import"./el-input.442e5724.js";import"./index.fd569633.js";const q="/assets/record.f82a5110.png";const E=c=>(Y("data-v-f80f25b0"),c=c(),Z(),c),z={class:"pan-music-content"},G={class:"music-name-content"},J={class:"music-name"},K=E(()=>a("div",{class:"record-img-content"},[a("img",{class:"record-img",src:q})],-1)),Q={class:"music-content"},W=["src"],X={class:"music-list-content"},$=E(()=>a("i",{class:"fa fa-music"},null,-1)),ee={slot:"title"},se={__name:"index",setup(c){const m=F(),r=_(""),n=_([]),u=_(""),o=_("0"),y=e=>{n.value=new Array,e.forEach((s,t)=>{s.filename=s.filename.substring(0,s.filename.lastIndexOf(".")),s.filename.length>15&&(s.filename=s.filename.substring(0,16)+"..."),s.fileId===m.params.fileId&&(r.value=s.filename,u.value=v.getPreviewUrl(s.fileId)),n.value.push(s)}),o.value=m.params.fileId},w=()=>{let e="",s=o.value;if(n.value.some((d,f)=>{if(d.fileId===s)return e=f,!0}),e===n.value.length-1)return;let t=n.value[++e];r.value=t.filename,u.value=v.getPreviewUrl(t.fileId),o.value=t.fileId},S=(e,s)=>{o.value=e,n.value.some(t=>{if(t.fileId===e)return r.value=t.filename,u.value=v.getPreviewUrl(t.fileId),!0})},b=()=>{document.getElementById("r_pan_music_player").addEventListener("ended",()=>{w()},!1)},M=()=>{A.list({parentId:m.params.parentId,fileTypes:"8"},e=>{e.code===0?(y(e.data),b()):x.error(e.message)},e=>{x.error(e.message)})};return R(()=>{M()}),(e,s)=>{const t=D,d=L,f=N,P=U,B=C;return p(),h("div",null,[l(V),a("div",z,[a("div",G,[a("p",J,g(r.value),1)]),l(t),l(B,null,{default:i(()=>[l(d,{span:18},{default:i(()=>[K,a("div",Q,[a("audio",{id:"r_pan_music_player",src:u.value,autoplay:"true",controls:"true"},null,8,W)])]),_:1}),l(d,{span:6},{default:i(()=>[a("div",X,[l(P,{class:"music-list","default-active":o.value,onSelect:S},{default:i(()=>[(p(!0),h(H,null,O(n.value,(I,k)=>(p(),T(f,{key:k,index:I.fileId},{default:i(()=>[$,a("span",ee,g(I.filename),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])])]),_:1})]),_:1})])])}}},fe=j(se,[["__scopeId","data-v-f80f25b0"]]);export{fe as default};
