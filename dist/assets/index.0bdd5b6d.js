/* empty css                  */import{cc as U,r as h,aA as V,az as B,ax as E,Z as P,W as D,o as M,g as R,C as s,S as v,c8 as x,aB as w,M as K,w as N,aC as u,aD as o,cm as T,V as F,k as L,a0 as j,a1 as z}from"./index.9cb8c9b9.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const n=r=>(j("data-v-428c979d"),r=r(),z(),r),W={class:"login-content"},Z={class:"content"},q={class:"form sign-in"},G=n(()=>s("h2",null,"R Pan \u767B\u5F55",-1)),H=n(()=>s("span",null,"\u7528\u6237\u540D",-1)),J=n(()=>s("span",null,"\u5BC6\u7801",-1)),O=n(()=>s("div",{class:"img__text m--up"},[s("h2",null,"\u8FD8\u672A\u6CE8\u518C\uFF1F"),s("p",null,"\u7ACB\u5373\u6CE8\u518C\uFF0C\u4EAB\u53D7\u72EC\u6709\u7A7A\u95F4\uFF01")],-1)),Q=n(()=>s("span",{class:"m--up"},"\u53BB \u6CE8 \u518C",-1)),X=[Q],Y={__name:"index",setup(r){const l=U(),i=h(!1),t=V({username:"",password:""}),I=B(),k=E(),{setParentId:p,setDefaultParentId:_,setDefaultParentFilename:m}=I,{setUsername:f}=k,g=h(null);P(()=>{g.value.focus()});const c=()=>{S()&&(i.value=!0,u.login(t,a=>{if(a.code===3){u.info(e=>{p(e.data.rootFileId),_(e.data.rootFileId),m(e.data.rootFilename),f(e.data.username),l.push({name:"Index"})},e=>{o.error(e.message)});return}T(a.data),u.info(e=>{p(e.data.rootFileId),_(e.data.rootFileId),m(e.data.rootFilename),f(e.data.username),l.push({name:"Index"})},e=>{o.error(e.message)})},a=>{o.error(a.message),i.value=!1}))},y=()=>{l.push({name:"Forget"})},S=()=>F.checkUsername(t.username)?F.checkPassword(t.password)?!0:(o.error("\u8BF7\u8F93\u51658-16\u4F4D\u7684\u5BC6\u7801"),!1):(o.error("\u8BF7\u8F93\u51656-16\u4F4D\u53EA\u5305\u542B\u6570\u5B57\u548C\u5B57\u6BCD\u7684\u7528\u6237\u540D"),!1),b=()=>{l.push({name:"Register"})};return(a,e)=>{const C=D;return M(),R("div",W,[s("div",Z,[s("div",q,[G,s("label",null,[H,v(s("input",{type:"text",onKeyup:w(c,["enter"]),"onUpdate:modelValue":e[0]||(e[0]=d=>t.username=d),ref_key:"usernameEl",ref:g},null,544),[[x,t.username]])]),s("label",null,[J,v(s("input",{type:"password",onKeyup:w(c,["enter"]),"onUpdate:modelValue":e[1]||(e[1]=d=>t.password=d)},null,544),[[x,t.password]])]),s("p",{class:"forgot-pass"},[s("a",{href:"javascript:",onClick:y}," \u5FD8\u8BB0\u5BC6\u7801\uFF1F ")]),K(C,{type:"warning",class:"submit",loading:i.value,onClick:c,round:""},{default:N(()=>[L("\u767B \u5F55")]),_:1},8,["loading"])]),s("div",{class:"sub-cont"},[s("div",{class:"img"},[O,s("div",{class:"img__btn",onClick:b},X)])])])])}}},te=A(Y,[["__scopeId","data-v-428c979d"]]);export{te as default};
